{"ast":null,"code":"import React,{useEffect}from\"react\";import{BrowserRouter as Router,Routes,Route,Navigate}from\"react-router-dom\";import{Toaster}from\"react-hot-toast\";import{Provider}from\"react-redux\";import{store}from\"./store\";import{useAppSelector,useAppDispatch}from\"./store/hooks\";import{getProfile}from\"./store/slices/authSlice\";import Login from\"./pages/Login\";import Dashboard from\"./pages/Dashboard\";import Products from\"./pages/Products\";import ProductForm from\"./pages/ProductForm\";import Categories from\"./pages/Categories\";import Banners from\"./pages/Banners\";import Orders from\"./pages/Orders\";import Users from\"./pages/Users\";import LegalContent from\"./pages/LegalContent\";import Settings from\"./pages/Settings\";import Layout from\"./components/Layout\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){// Protected Route Component - moved inside App function\nconst ProtectedRoute=_ref=>{let{children}=_ref;const dispatch=useAppDispatch();const{user,loading,token}=useAppSelector(state=>state.auth);useEffect(()=>{if(token&&!user){dispatch(getProfile());}},[dispatch,token,user]);if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"min-h-screen flex items-center justify-center\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}if(!user){return/*#__PURE__*/_jsx(Navigate,{to:\"/login\",replace:true});}return children;};return/*#__PURE__*/_jsx(Provider,{store:store,children:/*#__PURE__*/_jsx(Router,{children:/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsx(Toaster,{position:\"top-right\",toastOptions:{duration:4000,style:{background:\"#363636\",color:\"#fff\"}}}),/*#__PURE__*/_jsxs(Routes,{children:[/*#__PURE__*/_jsx(Route,{path:\"/login\",element:/*#__PURE__*/_jsx(Login,{})}),/*#__PURE__*/_jsxs(Route,{path:\"/\",element:/*#__PURE__*/_jsx(ProtectedRoute,{children:/*#__PURE__*/_jsx(Layout,{})}),children:[/*#__PURE__*/_jsx(Route,{index:true,element:/*#__PURE__*/_jsx(Dashboard,{})}),/*#__PURE__*/_jsx(Route,{path:\"products\",element:/*#__PURE__*/_jsx(Products,{})}),/*#__PURE__*/_jsx(Route,{path:\"products/new\",element:/*#__PURE__*/_jsx(ProductForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"products/edit/:id\",element:/*#__PURE__*/_jsx(ProductForm,{})}),/*#__PURE__*/_jsx(Route,{path:\"categories\",element:/*#__PURE__*/_jsx(Categories,{})}),/*#__PURE__*/_jsx(Route,{path:\"banners\",element:/*#__PURE__*/_jsx(Banners,{})}),/*#__PURE__*/_jsx(Route,{path:\"orders\",element:/*#__PURE__*/_jsx(Orders,{})}),/*#__PURE__*/_jsx(Route,{path:\"users\",element:/*#__PURE__*/_jsx(Users,{})}),/*#__PURE__*/_jsx(Route,{path:\"legal\",element:/*#__PURE__*/_jsx(LegalContent,{})}),/*#__PURE__*/_jsx(Route,{path:\"settings\",element:/*#__PURE__*/_jsx(Settings,{})})]})]})]})})});}export default App;","map":{"version":3,"names":["React","useEffect","BrowserRouter","Router","Routes","Route","Navigate","Toaster","Provider","store","useAppSelector","useAppDispatch","getProfile","Login","Dashboard","Products","ProductForm","Categories","Banners","Orders","Users","LegalContent","Settings","Layout","jsx","_jsx","jsxs","_jsxs","App","ProtectedRoute","_ref","children","dispatch","user","loading","token","state","auth","className","to","replace","position","toastOptions","duration","style","background","color","path","element","index"],"sources":["/Users/deepakyadav/Documents/ECommerce-Admin-Panel/src/App.js"],"sourcesContent":["import React, { useEffect } from \"react\";\nimport {\n  BrowserRouter as Router,\n  Routes,\n  Route,\n  Navigate,\n} from \"react-router-dom\";\nimport { Toaster } from \"react-hot-toast\";\nimport { Provider } from \"react-redux\";\nimport { store } from \"./store\";\nimport { useAppSelector, useAppDispatch } from \"./store/hooks\";\nimport { getProfile } from \"./store/slices/authSlice\";\nimport Login from \"./pages/Login\";\nimport Dashboard from \"./pages/Dashboard\";\nimport Products from \"./pages/Products\";\nimport ProductForm from \"./pages/ProductForm\";\nimport Categories from \"./pages/Categories\";\nimport Banners from \"./pages/Banners\";\nimport Orders from \"./pages/Orders\";\nimport Users from \"./pages/Users\";\nimport LegalContent from \"./pages/LegalContent\";\nimport Settings from \"./pages/Settings\";\nimport Layout from \"./components/Layout\";\n\nfunction App() {\n  // Protected Route Component - moved inside App function\n  const ProtectedRoute = ({ children }) => {\n    const dispatch = useAppDispatch();\n    const { user, loading, token } = useAppSelector((state) => state.auth);\n\n    useEffect(() => {\n      if (token && !user) {\n        dispatch(getProfile());\n      }\n    }, [dispatch, token, user]);\n\n    if (loading) {\n      return (\n        <div className=\"min-h-screen flex items-center justify-center\">\n          <div className=\"spinner\"></div>\n        </div>\n      );\n    }\n\n    if (!user) {\n      return <Navigate to=\"/login\" replace />;\n    }\n\n    return children;\n  };\n\n  return (\n    <Provider store={store}>\n      <Router>\n        <div className=\"App\">\n          <Toaster\n            position=\"top-right\"\n            toastOptions={{\n              duration: 4000,\n              style: {\n                background: \"#363636\",\n                color: \"#fff\",\n              },\n            }}\n          />\n\n          <Routes>\n            <Route path=\"/login\" element={<Login />} />\n\n            <Route\n              path=\"/\"\n              element={\n                <ProtectedRoute>\n                  <Layout />\n                </ProtectedRoute>\n              }\n            >\n              <Route index element={<Dashboard />} />\n              <Route path=\"products\" element={<Products />} />\n              <Route path=\"products/new\" element={<ProductForm />} />\n              <Route path=\"products/edit/:id\" element={<ProductForm />} />\n              <Route path=\"categories\" element={<Categories />} />\n              <Route path=\"banners\" element={<Banners />} />\n              <Route path=\"orders\" element={<Orders />} />\n              <Route path=\"users\" element={<Users />} />\n              <Route path=\"legal\" element={<LegalContent />} />\n              <Route path=\"settings\" element={<Settings />} />\n            </Route>\n          </Routes>\n        </div>\n      </Router>\n    </Provider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}