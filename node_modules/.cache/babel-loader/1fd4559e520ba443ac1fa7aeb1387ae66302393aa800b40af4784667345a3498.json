{"ast":null,"code":"import _objectSpread from\"/Users/deepakyadav/Documents/ECommerce-Admin-Panel/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,useEffect}from\"react\";import{Plus,Edit,Trash2,Eye,EyeOff,Upload,Calendar,Link as LinkIcon,GripVertical}from\"lucide-react\";import{bannerAPI}from\"../utils/api\";import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Banners=()=>{const[banners,setBanners]=useState([]);const[loading,setLoading]=useState(true);const[showForm,setShowForm]=useState(false);const[editingBanner,setEditingBanner]=useState(null);const[formData,setFormData]=useState({title:\"\",description:\"\",link:\"\",buttonText:\"Shop Now\",isActive:true,order:0,startDate:\"\",endDate:\"\"});const[imageFile,setImageFile]=useState(null);const[imagePreview,setImagePreview]=useState(null);const[dragIndex,setDragIndex]=useState(null);useEffect(()=>{fetchBanners();},[]);const fetchBanners=async()=>{try{setLoading(true);const response=await bannerAPI.getAll();setBanners(response.data.data);}catch(error){console.error(\"Error fetching banners:\",error);}finally{setLoading(false);}};const handleInputChange=e=>{const{name,value,type,checked}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:type===\"checkbox\"?checked:value}));};const handleImageChange=e=>{const file=e.target.files[0];if(file){setImageFile(file);const reader=new FileReader();reader.onloadend=()=>{setImagePreview(reader.result);};reader.readAsDataURL(file);}};const resetForm=()=>{setFormData({title:\"\",description:\"\",link:\"\",buttonText:\"Shop Now\",isActive:true,order:0,startDate:\"\",endDate:\"\"});setImageFile(null);setImagePreview(null);setEditingBanner(null);};const handleSubmit=async e=>{e.preventDefault();// Validate that image is selected for new banners\nif(!editingBanner&&!imageFile){alert(\"Please select an image for the banner.\");return;}try{console.log(\"Creating banner with data:\",formData);console.log(\"Image file:\",imageFile);const formDataToSend=new FormData();Object.keys(formData).forEach(key=>{if(formData[key]!==\"\"){formDataToSend.append(key,formData[key]);console.log(\"Appending \".concat(key,\":\"),formData[key]);}});if(imageFile){formDataToSend.append(\"image\",imageFile);console.log(\"Appending image file:\",imageFile.name,imageFile.type,imageFile.size);}console.log(\"FormData entries:\");for(let[key,value]of formDataToSend.entries()){console.log(\"\".concat(key,\":\"),value);}if(editingBanner){console.log(\"Updating banner:\",editingBanner._id);await bannerAPI.update(editingBanner._id,formDataToSend);}else{console.log(\"Creating new banner\");await bannerAPI.create(formDataToSend);}console.log(\"Banner saved successfully!\");fetchBanners();setShowForm(false);resetForm();}catch(error){var _error$response,_error$response$data;console.error(\"Error saving banner:\",error);console.error(\"Error response:\",error.response);const errorMessage=((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||error.message||\"Error saving banner. Please try again.\";alert(errorMessage);}};const handleEdit=banner=>{setEditingBanner(banner);setFormData({title:banner.title,description:banner.description,link:banner.link||\"\",buttonText:banner.buttonText||\"Shop Now\",isActive:banner.isActive,order:banner.order||0,startDate:banner.startDate?new Date(banner.startDate).toISOString().split(\"T\")[0]:\"\",endDate:banner.endDate?new Date(banner.endDate).toISOString().split(\"T\")[0]:\"\"});setImagePreview(\"http://localhost:5000\".concat(banner.image));setShowForm(true);};const handleDelete=async id=>{if(window.confirm(\"Are you sure you want to delete this banner?\")){try{await bannerAPI.delete(id);fetchBanners();}catch(error){console.error(\"Error deleting banner:\",error);alert(\"Error deleting banner. Please try again.\");}}};const handleToggleStatus=async id=>{try{await bannerAPI.toggleStatus(id);fetchBanners();}catch(error){console.error(\"Error toggling banner status:\",error);}};const handleDragStart=(e,index)=>{setDragIndex(index);};const handleDragOver=e=>{e.preventDefault();};const handleDrop=async(e,dropIndex)=>{e.preventDefault();if(dragIndex===null||dragIndex===dropIndex)return;const newBanners=[...banners];const draggedBanner=newBanners[dragIndex];newBanners.splice(dragIndex,1);newBanners.splice(dropIndex,0,draggedBanner);// Update order values\nconst bannerOrders=newBanners.map((banner,index)=>({id:banner._id,order:index}));try{await bannerAPI.reorder(bannerOrders);fetchBanners();}catch(error){console.error(\"Error reordering banners:\",error);}setDragIndex(null);};if(loading){return/*#__PURE__*/_jsx(\"div\",{className:\"flex items-center justify-center h-64\",children:/*#__PURE__*/_jsx(\"div\",{className:\"spinner\"})});}return/*#__PURE__*/_jsxs(\"div\",{className:\"space-y-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"sm:flex sm:items-center sm:justify-between\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-2xl font-bold text-gray-900\",children:\"Banner Management\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-2 text-sm text-gray-700\",children:\"Manage homepage banners and promotional content\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-4 sm:mt-0\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{resetForm();setShowForm(true);},className:\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Banner\"]})})]}),showForm&&/*#__PURE__*/_jsxs(\"div\",{className:\"bg-white shadow rounded-lg p-6\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center justify-between mb-4\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg font-medium text-gray-900\",children:editingBanner?\"Edit Banner\":\"Add New Banner\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>{setShowForm(false);resetForm();},className:\"text-gray-400 hover:text-gray-600\",children:\"\\xD7\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"space-y-4\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-2 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Title *\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"title\",value:formData.title,onChange:handleInputChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Button Text\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",name:\"buttonText\",value:formData.buttonText,onChange:handleInputChange,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Description *\"}),/*#__PURE__*/_jsx(\"textarea\",{name:\"description\",value:formData.description,onChange:handleInputChange,rows:3,className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\",required:true})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Link URL\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(LinkIcon,{className:\"absolute left-3 top-3 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"url\",name:\"link\",value:formData.link,onChange:handleInputChange,placeholder:\"https://example.com\",className:\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"grid grid-cols-1 md:grid-cols-3 gap-4\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Start Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-3 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"startDate\",value:formData.startDate,onChange:handleInputChange,className:\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"End Date\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 relative\",children:[/*#__PURE__*/_jsx(Calendar,{className:\"absolute left-3 top-3 h-4 w-4 text-gray-400\"}),/*#__PURE__*/_jsx(\"input\",{type:\"date\",name:\"endDate\",value:formData.endDate,onChange:handleInputChange,className:\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Order\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",name:\"order\",value:formData.order,onChange:handleInputChange,min:\"0\",className:\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"label\",{className:\"block text-sm font-medium text-gray-700\",children:\"Banner Image *\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-1 flex items-center space-x-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-1\",children:/*#__PURE__*/_jsx(\"input\",{type:\"file\",accept:\"image/*\",onChange:handleImageChange,className:\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100\",required:!editingBanner})}),imagePreview&&/*#__PURE__*/_jsx(\"div\",{className:\"w-20 h-20 border rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:imagePreview,alt:\"Preview\",className:\"w-full h-full object-cover\"})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"checkbox\",name:\"isActive\",checked:formData.isActive,onChange:handleInputChange,className:\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"}),/*#__PURE__*/_jsx(\"label\",{className:\"ml-2 block text-sm text-gray-900\",children:\"Active\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex justify-end space-x-3\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"button\",onClick:()=>{setShowForm(false);resetForm();},className:\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:\"Cancel\"}),/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\",children:editingBanner?\"Update Banner\":\"Create Banner\"})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bg-white shadow rounded-lg\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"px-4 py-5 sm:p-6\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"text-lg leading-6 font-medium text-gray-900 mb-4\",children:\"Banners\"}),banners.length>0?/*#__PURE__*/_jsx(\"div\",{className:\"space-y-4\",children:banners.map((banner,index)=>/*#__PURE__*/_jsxs(\"div\",{draggable:true,onDragStart:e=>handleDragStart(e,index),onDragOver:handleDragOver,onDrop:e=>handleDrop(e,index),className:\"flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50 \".concat(dragIndex===index?\"opacity-50\":\"\"),children:[/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0\",children:/*#__PURE__*/_jsx(GripVertical,{className:\"h-5 w-5 text-gray-400 cursor-move\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"flex-shrink-0 w-20 h-16 border rounded-lg overflow-hidden\",children:/*#__PURE__*/_jsx(\"img\",{src:\"http://localhost:5000\".concat(banner.image),alt:banner.title,className:\"w-full h-full object-cover\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex-1 min-w-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"h4\",{className:\"text-sm font-medium text-gray-900 truncate\",children:banner.title}),/*#__PURE__*/_jsx(\"span\",{className:\"inline-flex px-2 py-1 text-xs font-semibold rounded-full \".concat(banner.isActive?\"bg-green-100 text-green-800\":\"bg-red-100 text-red-800\"),children:banner.isActive?\"Active\":\"Inactive\"})]}),/*#__PURE__*/_jsx(\"p\",{className:\"text-sm text-gray-500 truncate\",children:banner.description}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-4 text-xs text-gray-400 mt-1\",children:[/*#__PURE__*/_jsxs(\"span\",{children:[\"Order: \",banner.order]}),banner.link&&/*#__PURE__*/_jsx(\"span\",{children:\"\\u2022 Has Link\"}),banner.startDate&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2022 Starts:\",\" \",new Date(banner.startDate).toLocaleDateString()]}),banner.endDate&&/*#__PURE__*/_jsxs(\"span\",{children:[\"\\u2022 Ends:\",\" \",new Date(banner.endDate).toLocaleDateString()]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex items-center space-x-2\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleToggleStatus(banner._id),className:\"text-gray-400 hover:text-gray-600\",title:banner.isActive?\"Deactivate\":\"Activate\",children:banner.isActive?/*#__PURE__*/_jsx(EyeOff,{className:\"h-4 w-4\"}):/*#__PURE__*/_jsx(Eye,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleEdit(banner),className:\"text-indigo-600 hover:text-indigo-900\",title:\"Edit\",children:/*#__PURE__*/_jsx(Edit,{className:\"h-4 w-4\"})}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>handleDelete(banner._id),className:\"text-red-600 hover:text-red-900\",title:\"Delete\",children:/*#__PURE__*/_jsx(Trash2,{className:\"h-4 w-4\"})})]})]},banner._id))}):/*#__PURE__*/_jsxs(\"div\",{className:\"text-center py-8\",children:[/*#__PURE__*/_jsx(Upload,{className:\"mx-auto h-12 w-12 text-gray-400\"}),/*#__PURE__*/_jsx(\"h3\",{className:\"mt-2 text-sm font-medium text-gray-900\",children:\"No banners\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mt-1 text-sm text-gray-500\",children:\"Get started by creating your first banner.\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mt-6\",children:/*#__PURE__*/_jsxs(\"button\",{onClick:()=>{resetForm();setShowForm(true);},className:\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\",children:[/*#__PURE__*/_jsx(Plus,{className:\"h-4 w-4 mr-2\"}),\"Add Banner\"]})})]})]})})]});};export default Banners;","map":{"version":3,"names":["React","useState","useEffect","Plus","Edit","Trash2","Eye","EyeOff","Upload","Calendar","Link","LinkIcon","GripVertical","bannerAPI","jsx","_jsx","jsxs","_jsxs","Banners","banners","setBanners","loading","setLoading","showForm","setShowForm","editingBanner","setEditingBanner","formData","setFormData","title","description","link","buttonText","isActive","order","startDate","endDate","imageFile","setImageFile","imagePreview","setImagePreview","dragIndex","setDragIndex","fetchBanners","response","getAll","data","error","console","handleInputChange","e","name","value","type","checked","target","prev","_objectSpread","handleImageChange","file","files","reader","FileReader","onloadend","result","readAsDataURL","resetForm","handleSubmit","preventDefault","alert","log","formDataToSend","FormData","Object","keys","forEach","key","append","concat","size","entries","_id","update","create","_error$response","_error$response$data","errorMessage","message","handleEdit","banner","Date","toISOString","split","image","handleDelete","id","window","confirm","delete","handleToggleStatus","toggleStatus","handleDragStart","index","handleDragOver","handleDrop","dropIndex","newBanners","draggedBanner","splice","bannerOrders","map","reorder","className","children","onClick","onSubmit","onChange","required","rows","placeholder","min","accept","src","alt","length","draggable","onDragStart","onDragOver","onDrop","toLocaleDateString"],"sources":["/Users/deepakyadav/Documents/ECommerce-Admin-Panel/src/pages/Banners.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Plus,\n  Edit,\n  Trash2,\n  Eye,\n  EyeOff,\n  Upload,\n  Calendar,\n  Link as LinkIcon,\n  GripVertical,\n} from \"lucide-react\";\nimport { bannerAPI } from \"../utils/api\";\n\nconst Banners = () => {\n  const [banners, setBanners] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [showForm, setShowForm] = useState(false);\n  const [editingBanner, setEditingBanner] = useState(null);\n  const [formData, setFormData] = useState({\n    title: \"\",\n    description: \"\",\n    link: \"\",\n    buttonText: \"Shop Now\",\n    isActive: true,\n    order: 0,\n    startDate: \"\",\n    endDate: \"\",\n  });\n  const [imageFile, setImageFile] = useState(null);\n  const [imagePreview, setImagePreview] = useState(null);\n  const [dragIndex, setDragIndex] = useState(null);\n\n  useEffect(() => {\n    fetchBanners();\n  }, []);\n\n  const fetchBanners = async () => {\n    try {\n      setLoading(true);\n      const response = await bannerAPI.getAll();\n      setBanners(response.data.data);\n    } catch (error) {\n      console.error(\"Error fetching banners:\", error);\n    } finally {\n      setLoading(false);\n    }\n  };\n\n  const handleInputChange = (e) => {\n    const { name, value, type, checked } = e.target;\n    setFormData((prev) => ({\n      ...prev,\n      [name]: type === \"checkbox\" ? checked : value,\n    }));\n  };\n\n  const handleImageChange = (e) => {\n    const file = e.target.files[0];\n    if (file) {\n      setImageFile(file);\n      const reader = new FileReader();\n      reader.onloadend = () => {\n        setImagePreview(reader.result);\n      };\n      reader.readAsDataURL(file);\n    }\n  };\n\n  const resetForm = () => {\n    setFormData({\n      title: \"\",\n      description: \"\",\n      link: \"\",\n      buttonText: \"Shop Now\",\n      isActive: true,\n      order: 0,\n      startDate: \"\",\n      endDate: \"\",\n    });\n    setImageFile(null);\n    setImagePreview(null);\n    setEditingBanner(null);\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    // Validate that image is selected for new banners\n    if (!editingBanner && !imageFile) {\n      alert(\"Please select an image for the banner.\");\n      return;\n    }\n\n    try {\n      console.log(\"Creating banner with data:\", formData);\n      console.log(\"Image file:\", imageFile);\n      \n      const formDataToSend = new FormData();\n      Object.keys(formData).forEach((key) => {\n        if (formData[key] !== \"\") {\n          formDataToSend.append(key, formData[key]);\n          console.log(`Appending ${key}:`, formData[key]);\n        }\n      });\n\n      if (imageFile) {\n        formDataToSend.append(\"image\", imageFile);\n        console.log(\"Appending image file:\", imageFile.name, imageFile.type, imageFile.size);\n      }\n\n      console.log(\"FormData entries:\");\n      for (let [key, value] of formDataToSend.entries()) {\n        console.log(`${key}:`, value);\n      }\n\n      if (editingBanner) {\n        console.log(\"Updating banner:\", editingBanner._id);\n        await bannerAPI.update(editingBanner._id, formDataToSend);\n      } else {\n        console.log(\"Creating new banner\");\n        await bannerAPI.create(formDataToSend);\n      }\n\n      console.log(\"Banner saved successfully!\");\n      fetchBanners();\n      setShowForm(false);\n      resetForm();\n    } catch (error) {\n      console.error(\"Error saving banner:\", error);\n      console.error(\"Error response:\", error.response);\n      const errorMessage = error.response?.data?.message || error.message || \"Error saving banner. Please try again.\";\n      alert(errorMessage);\n    }\n  };\n\n  const handleEdit = (banner) => {\n    setEditingBanner(banner);\n    setFormData({\n      title: banner.title,\n      description: banner.description,\n      link: banner.link || \"\",\n      buttonText: banner.buttonText || \"Shop Now\",\n      isActive: banner.isActive,\n      order: banner.order || 0,\n      startDate: banner.startDate\n        ? new Date(banner.startDate).toISOString().split(\"T\")[0]\n        : \"\",\n      endDate: banner.endDate\n        ? new Date(banner.endDate).toISOString().split(\"T\")[0]\n        : \"\",\n    });\n    setImagePreview(`http://localhost:5000${banner.image}`);\n    setShowForm(true);\n  };\n\n  const handleDelete = async (id) => {\n    if (window.confirm(\"Are you sure you want to delete this banner?\")) {\n      try {\n        await bannerAPI.delete(id);\n        fetchBanners();\n      } catch (error) {\n        console.error(\"Error deleting banner:\", error);\n        alert(\"Error deleting banner. Please try again.\");\n      }\n    }\n  };\n\n  const handleToggleStatus = async (id) => {\n    try {\n      await bannerAPI.toggleStatus(id);\n      fetchBanners();\n    } catch (error) {\n      console.error(\"Error toggling banner status:\", error);\n    }\n  };\n\n  const handleDragStart = (e, index) => {\n    setDragIndex(index);\n  };\n\n  const handleDragOver = (e) => {\n    e.preventDefault();\n  };\n\n  const handleDrop = async (e, dropIndex) => {\n    e.preventDefault();\n    if (dragIndex === null || dragIndex === dropIndex) return;\n\n    const newBanners = [...banners];\n    const draggedBanner = newBanners[dragIndex];\n    newBanners.splice(dragIndex, 1);\n    newBanners.splice(dropIndex, 0, draggedBanner);\n\n    // Update order values\n    const bannerOrders = newBanners.map((banner, index) => ({\n      id: banner._id,\n      order: index,\n    }));\n\n    try {\n      await bannerAPI.reorder(bannerOrders);\n      fetchBanners();\n    } catch (error) {\n      console.error(\"Error reordering banners:\", error);\n    }\n\n    setDragIndex(null);\n  };\n\n  if (loading) {\n    return (\n      <div className=\"flex items-center justify-center h-64\">\n        <div className=\"spinner\"></div>\n      </div>\n    );\n  }\n\n  return (\n    <div className=\"space-y-6\">\n      {/* Page header */}\n      <div className=\"sm:flex sm:items-center sm:justify-between\">\n        <div>\n          <h1 className=\"text-2xl font-bold text-gray-900\">\n            Banner Management\n          </h1>\n          <p className=\"mt-2 text-sm text-gray-700\">\n            Manage homepage banners and promotional content\n          </p>\n        </div>\n        <div className=\"mt-4 sm:mt-0\">\n          <button\n            onClick={() => {\n              resetForm();\n              setShowForm(true);\n            }}\n            className=\"inline-flex items-center px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n          >\n            <Plus className=\"h-4 w-4 mr-2\" />\n            Add Banner\n          </button>\n        </div>\n      </div>\n\n      {/* Banner Form */}\n      {showForm && (\n        <div className=\"bg-white shadow rounded-lg p-6\">\n          <div className=\"flex items-center justify-between mb-4\">\n            <h3 className=\"text-lg font-medium text-gray-900\">\n              {editingBanner ? \"Edit Banner\" : \"Add New Banner\"}\n            </h3>\n            <button\n              onClick={() => {\n                setShowForm(false);\n                resetForm();\n              }}\n              className=\"text-gray-400 hover:text-gray-600\"\n            >\n              ×\n            </button>\n          </div>\n\n          <form onSubmit={handleSubmit} className=\"space-y-4\">\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Title *\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"title\"\n                  value={formData.title}\n                  onChange={handleInputChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                  required\n                />\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Button Text\n                </label>\n                <input\n                  type=\"text\"\n                  name=\"buttonText\"\n                  value={formData.buttonText}\n                  onChange={handleInputChange}\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Description *\n              </label>\n              <textarea\n                name=\"description\"\n                value={formData.description}\n                onChange={handleInputChange}\n                rows={3}\n                className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                required\n              />\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Link URL\n              </label>\n              <div className=\"mt-1 relative\">\n                <LinkIcon className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                <input\n                  type=\"url\"\n                  name=\"link\"\n                  value={formData.link}\n                  onChange={handleInputChange}\n                  placeholder=\"https://example.com\"\n                  className=\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                />\n              </div>\n            </div>\n\n            <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4\">\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Start Date\n                </label>\n                <div className=\"mt-1 relative\">\n                  <Calendar className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                  <input\n                    type=\"date\"\n                    name=\"startDate\"\n                    value={formData.startDate}\n                    onChange={handleInputChange}\n                    className=\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  End Date\n                </label>\n                <div className=\"mt-1 relative\">\n                  <Calendar className=\"absolute left-3 top-3 h-4 w-4 text-gray-400\" />\n                  <input\n                    type=\"date\"\n                    name=\"endDate\"\n                    value={formData.endDate}\n                    onChange={handleInputChange}\n                    className=\"pl-10 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                  />\n                </div>\n              </div>\n\n              <div>\n                <label className=\"block text-sm font-medium text-gray-700\">\n                  Order\n                </label>\n                <input\n                  type=\"number\"\n                  name=\"order\"\n                  value={formData.order}\n                  onChange={handleInputChange}\n                  min=\"0\"\n                  className=\"mt-1 block w-full border-gray-300 rounded-md shadow-sm focus:ring-primary-500 focus:border-primary-500\"\n                />\n              </div>\n            </div>\n\n            <div>\n              <label className=\"block text-sm font-medium text-gray-700\">\n                Banner Image *\n              </label>\n              <div className=\"mt-1 flex items-center space-x-4\">\n                <div className=\"flex-1\">\n                  <input\n                    type=\"file\"\n                    accept=\"image/*\"\n                    onChange={handleImageChange}\n                    className=\"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-md file:border-0 file:text-sm file:font-medium file:bg-primary-50 file:text-primary-700 hover:file:bg-primary-100\"\n                    required={!editingBanner}\n                  />\n                </div>\n                {imagePreview && (\n                  <div className=\"w-20 h-20 border rounded-lg overflow-hidden\">\n                    <img\n                      src={imagePreview}\n                      alt=\"Preview\"\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n                )}\n              </div>\n            </div>\n\n            <div className=\"flex items-center\">\n              <input\n                type=\"checkbox\"\n                name=\"isActive\"\n                checked={formData.isActive}\n                onChange={handleInputChange}\n                className=\"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded\"\n              />\n              <label className=\"ml-2 block text-sm text-gray-900\">Active</label>\n            </div>\n\n            <div className=\"flex justify-end space-x-3\">\n              <button\n                type=\"button\"\n                onClick={() => {\n                  setShowForm(false);\n                  resetForm();\n                }}\n                className=\"px-4 py-2 border border-gray-300 rounded-md shadow-sm text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                Cancel\n              </button>\n              <button\n                type=\"submit\"\n                className=\"px-4 py-2 border border-transparent rounded-md shadow-sm text-sm font-medium text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500\"\n              >\n                {editingBanner ? \"Update Banner\" : \"Create Banner\"}\n              </button>\n            </div>\n          </form>\n        </div>\n      )}\n\n      {/* Banners List */}\n      <div className=\"bg-white shadow rounded-lg\">\n        <div className=\"px-4 py-5 sm:p-6\">\n          <h3 className=\"text-lg leading-6 font-medium text-gray-900 mb-4\">\n            Banners\n          </h3>\n\n          {banners.length > 0 ? (\n            <div className=\"space-y-4\">\n              {banners.map((banner, index) => (\n                <div\n                  key={banner._id}\n                  draggable\n                  onDragStart={(e) => handleDragStart(e, index)}\n                  onDragOver={handleDragOver}\n                  onDrop={(e) => handleDrop(e, index)}\n                  className={`flex items-center space-x-4 p-4 border rounded-lg hover:bg-gray-50 ${\n                    dragIndex === index ? \"opacity-50\" : \"\"\n                  }`}\n                >\n                  <div className=\"flex-shrink-0\">\n                    <GripVertical className=\"h-5 w-5 text-gray-400 cursor-move\" />\n                  </div>\n\n                  <div className=\"flex-shrink-0 w-20 h-16 border rounded-lg overflow-hidden\">\n                    <img\n                      src={`http://localhost:5000${banner.image}`}\n                      alt={banner.title}\n                      className=\"w-full h-full object-cover\"\n                    />\n                  </div>\n\n                  <div className=\"flex-1 min-w-0\">\n                    <div className=\"flex items-center space-x-2\">\n                      <h4 className=\"text-sm font-medium text-gray-900 truncate\">\n                        {banner.title}\n                      </h4>\n                      <span\n                        className={`inline-flex px-2 py-1 text-xs font-semibold rounded-full ${\n                          banner.isActive\n                            ? \"bg-green-100 text-green-800\"\n                            : \"bg-red-100 text-red-800\"\n                        }`}\n                      >\n                        {banner.isActive ? \"Active\" : \"Inactive\"}\n                      </span>\n                    </div>\n                    <p className=\"text-sm text-gray-500 truncate\">\n                      {banner.description}\n                    </p>\n                    <div className=\"flex items-center space-x-4 text-xs text-gray-400 mt-1\">\n                      <span>Order: {banner.order}</span>\n                      {banner.link && <span>• Has Link</span>}\n                      {banner.startDate && (\n                        <span>\n                          • Starts:{\" \"}\n                          {new Date(banner.startDate).toLocaleDateString()}\n                        </span>\n                      )}\n                      {banner.endDate && (\n                        <span>\n                          • Ends:{\" \"}\n                          {new Date(banner.endDate).toLocaleDateString()}\n                        </span>\n                      )}\n                    </div>\n                  </div>\n\n                  <div className=\"flex items-center space-x-2\">\n                    <button\n                      onClick={() => handleToggleStatus(banner._id)}\n                      className=\"text-gray-400 hover:text-gray-600\"\n                      title={banner.isActive ? \"Deactivate\" : \"Activate\"}\n                    >\n                      {banner.isActive ? (\n                        <EyeOff className=\"h-4 w-4\" />\n                      ) : (\n                        <Eye className=\"h-4 w-4\" />\n                      )}\n                    </button>\n                    <button\n                      onClick={() => handleEdit(banner)}\n                      className=\"text-indigo-600 hover:text-indigo-900\"\n                      title=\"Edit\"\n                    >\n                      <Edit className=\"h-4 w-4\" />\n                    </button>\n                    <button\n                      onClick={() => handleDelete(banner._id)}\n                      className=\"text-red-600 hover:text-red-900\"\n                      title=\"Delete\"\n                    >\n                      <Trash2 className=\"h-4 w-4\" />\n                    </button>\n                  </div>\n                </div>\n              ))}\n            </div>\n          ) : (\n            <div className=\"text-center py-8\">\n              <Upload className=\"mx-auto h-12 w-12 text-gray-400\" />\n              <h3 className=\"mt-2 text-sm font-medium text-gray-900\">\n                No banners\n              </h3>\n              <p className=\"mt-1 text-sm text-gray-500\">\n                Get started by creating your first banner.\n              </p>\n              <div className=\"mt-6\">\n                <button\n                  onClick={() => {\n                    resetForm();\n                    setShowForm(true);\n                  }}\n                  className=\"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700\"\n                >\n                  <Plus className=\"h-4 w-4 mr-2\" />\n                  Add Banner\n                </button>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default Banners;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}